<%- include('./includes/head') %>
<%- include('./includes/nav') %>

    <div class="container">
      <div class="row">
        <div class="col-lg-2"></div>

        <div class="col-lg-8 my-3">
          <h1 class="text-center">Agenda</h1>

          <%- include('includes/messages') %>

          <% if (user) { %>
            <p class="text-center lead">Seus contatos estão abaixo.</p>

            <% if (contatos.length > 0) { %>
              <div class="responsive-table">
                <table class="table my-3">
                  <% contatos.forEach((contato) => { %>
                    <tr>
                      <td><%= contato.name %></td>
                      <td><%= contato.lastname %></td>
                      <td><%= contato.phone %></td>
                      <td><%= contato.email %></td>
                      <td><a href="/contato/<%= contato._id %>">Editar</a></td>
                      <td><a class="text-danger" href="/contato/delete/<%= contato._id %>">Excluir</a></td>
                    </tr>
                  <% }) %>
                </table>
              </div>
            <% } else { %>
              <p class="text-center lead" >Não existem contatos na sua agenda...</p>
            <% } %>
          <% } else { %>
            <p class="text-center lead">Uma agenda feita com JavaScript utilizando Express e várias outras coisas legais! Faça login para ver seus contatos!</p>
          <% } %>
        </div>

        <div class="col-lg-2"></div>
      </div>
    </div>

<%- include('./includes/footer') %>  
